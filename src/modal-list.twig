{% extends "./_templates/layout.twig" %}
{% set breadcrumbs = [ { title: 'List', url: '/news' } ] %}
{% set pageClass = 'iuhDetail' %}
{% block page %}
<div class="w-full py-4 pb-6 lg:pt-0 lg:pb-16 relative">
  <div class="w-full max-w-[1200px] px-4 mx-auto">
    <!-- Tree Visualization - Responsive scrolling -->
    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
      <!-- Header Section - Responsive improvements -->
      <div class="relative bg-white rounded-2xl shadow-lg overflow-hidden mb-8 sm:mb-12">
        <div class="absolute inset-0 bg-gradient-to-br from-navyBlue-600/90 to-navyBlue-900/90"></div>
        <div class="relative p-8 sm:p-12">
          <div class="max-w-3xl">
            <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4">
              Cơ cấu tổ chức IUH
            </h1>
            <p class="text-white/80 text-base sm:text-lg">
              Hệ thống tổ chức của Trường Đại học Công nghiệp TP.HCM được phân chia thành các đơn vị chuyên môn để đảm
              bảo
              hoạt động hiệu quả
            </p>
          </div>
        </div>
        <!-- Decorative Elements -->
        <div class="absolute top-0 right-0 translate-x-1/3 -translate-y-1/3">
          <div class="text-white/10">
            <svg class="w-64 h-64" fill="currentColor" viewBox="0 0 200 200">
              <path
                d="M45.4,-66.3C59,-56.7,70.6,-43.5,75.9,-27.9C81.2,-12.3,80.3,5.8,74.7,21.5C69,37.2,58.6,50.5,45.3,60.3C32,70.1,16,76.3,-0.2,76.6C-16.4,76.9,-32.9,71.3,-46.5,61.5C-60.1,51.7,-71,37.8,-76.3,21.5C-81.6,5.3,-81.3,-13.3,-74.1,-28.3C-66.9,-43.3,-52.8,-54.7,-38.4,-64.3C-24,-73.9,-9.6,-81.7,3.9,-87.2C17.4,-92.7,34.8,-95.8,45.4,-66.3Z"
                transform="translate(100 100)" />
            </svg>
          </div>
        </div>
      </div>
      <!-- Organization Tree -->
      <div class="relative px-4 pb-8 sm:mb-12">
        <!-- Level 1: Leadership -->
        <div class="flex justify-center">
          <div
            class="group min-w-[300px] relative p-4 sm:p-6 bg-white rounded-xl border-2 border-navyBlue-100 transition-all duration-500 hover:shadow-md cursor-pointer overflow-hidden">
            <!-- Hover gradient background -->
            <div
              class="absolute inset-0 bg-gradient-to-br from-navyBlue-600 to-navyBlue-800 opacity-0 group-hover:opacity-100 transition-all duration-500">
            </div>

            <!-- Content wrapper -->
            <div class="relative flex items-center gap-4 z-10">
              <!-- Icon container with animations -->
              <div class="relative">
                <!-- Background shape -->
                <div
                  class="absolute inset-0 bg-white/20 rounded-xl transform rotate-6 transition-transform group-hover:rotate-12 group-hover:scale-110">
                </div>

                <!-- Icon -->
                <div
                  class="relative shrink-0 w-12 h-12 sm:w-14 sm:h-14 rounded-xl bg-navyBlue-50 flex items-center justify-center transform transition-all duration-500 group-hover:bg-white/90">
                  <svg
                    class="w-6 h-6 sm:w-7 sm:h-7 text-navyBlue-600 transition-all duration-500 group-hover:rotate-12 group-hover:scale-110"
                    fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                      d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                </div>
              </div>
              <!-- Text content with animations -->
              <div class="flex-1 transform transition-all duration-500 group-hover:translate-x-2">
                <h3 class="font-bold text-navyBlue-800 text-lg sm:text-xl group-hover:text-white">Ban Giám hiệu</h3>
                <div class="flex items-center gap-2">
                  <p class="text-sm text-gray-600 group-hover:text-white/90">Điều hành trường
                  </p>
                  <!-- Animated arrow -->
                  <svg
                    class="w-4 h-4 text-gray-400 transform transition-all duration-500 group-hover:text-white group-hover:translate-x-2"
                    fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                </div>
              </div>
              <!-- Decorative elements -->
              <div
                class="absolute top-0 right-0 size-32 opacity-0 group-hover:opacity-10 transition-all duration-700 pointer-events-none">
                <svg class="w-full h-full transform rotate-12" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1
                  1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
                </svg>
              </div>
            </div>
          </div>
        </div>

        <!-- Connecting Lines Level 1 to 2 -->
        <div class="mx-auto w-0.5 h-6 sm:h-12 bg-gray-200 my-2"></div>

        <!-- Level 2: Main Departments with Expandable Previews -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          {% set mainDepartments = [
          {
          title: 'Lãnh đạo',
          color: 'navyBlue',
          icon: 'M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4
          4 0 018 0z',
          subitems: ["Đảng ủy", "Ban giám hiệu"]
          },
          {
          title: 'Các Phân hiệu',
          color: 'navyBlue',
          icon: 'M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1
          1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7',
          subitems: [ "Phân hiệu Quảng Ngãi",
          "Cơ sở Thanh Hóa"]
          },
          {
          title: 'Phòng Ban',
          color: 'navyBlue',
          icon: 'M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5
          10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4',
          subitems: ["Phòng Tổ chức - Hành chính",
          "Phòng Tài chính - Kế toán",
          "Phòng Kế hoạch - Đầu tư",
          "Phòng Đào tạo",
          "Phòng Quản lý Khoa học và Hợp tác quốc tế",
          "Phòng Công tác chính trị và Hỗ trợ sinh viên",
          "Phòng Khảo thí và Đảm bảo chất lượng",
          "Phòng Quản trị",
          "Phòng Dịch vụ",
          "Phòng Quản lý Ký túc xá",
          "Tạp chí Khoa học và Công nghệ",
          "Nhà xuất bản"]
          },
          {
          title: 'Khoa',
          color: 'navyBlue',
          icon: 'M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5
          18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477
          18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253',
          subitems: ["Khoa Công nghệ Cơ khí",
          "Khoa Công nghệ Thông tin",
          "Khoa Công nghệ Điện",
          "Khoa Công nghệ Điện tử",
          "Khoa Công nghệ Động lực",
          "Khoa Công nghệ Nhiệt - Lạnh",
          "Khoa Công nghệ May - Thời trang",
          "Khoa Công nghệ Hóa học",
          "Khoa Khoa học Cơ bản",
          "Khoa Luật và Khoa học Chính trị",
          "Khoa Ngoại ngữ",
          "Khoa Quản trị Kinh doanh",
          "Khoa Thương mại - Du lịch",
          "Khoa Kỹ thuật Xây dựng"]
          },
          {
          title: 'Các Viện',
          color: 'navyBlue',
          icon: 'M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1
          1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7',
          subitems: ["Viện Tài chính - Kế toán",
          "Viện Đào tạo quốc tế và Sau Đại học",
          "Viện Công nghệ Sinh học và Thực phẩm",
          "Viện Khoa học Công nghệ và Quản lý Môi trường"]
          },
          {
          title: 'Các Trung tâm',
          color: 'navyBlue',
          icon: 'M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1
          1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7',
          subitems: ["Trung tâm Quản trị Hệ thống",
          "Trung tâm Ngoại ngữ",
          "Trung tâm Giáo dục Quốc phòng và Thể chất",
          "Trung tâm Thư viện",
          "Trung tâm Thông tin - Truyền thông"]
          }

          ,
          {
          title: 'Đoàn thể',
          color: 'navyBlue',
          icon: 'M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1
          1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7',
          subitems: ["Công đoàn",
          "Đoàn Thanh niên",
          "Hội Sinh viên"]
          }
          ] %}

          {% for dept in mainDepartments %}
          <!-- Main department  -->
          <div class="flex flex-col w-full">
            <!-- Header department  -->
            <div
              class="group/department relative p-4 sm:p-6 bg-white rounded-xl border-2 border-{{ dept.color }}-100 transition-all duration-500 hover:shadow-md cursor-pointer overflow-hidden">
              <!-- Hover gradient background -->
              <div
                class="absolute inset-0 bg-gradient-to-br from-{{ dept.color }}-600 to-{{ dept.color }}-800 opacity-0 group-hover/department:opacity-100 transition-all duration-500">
              </div>

              <!-- Content wrapper -->
              <div class="relative flex items-center gap-4 z-10">
                <!-- Icon container with animations -->
                <div class="relative">
                  <!-- Background shape -->
                  <div
                    class="absolute inset-0 bg-white/20 rounded-xl transform rotate-6 transition-transform group-hover/department:rotate-12 group-hover/department:scale-110">
                  </div>

                  <!-- Icon -->
                  <div
                    class="relative shrink-0 w-12 h-12 sm:w-14 sm:h-14 rounded-xl bg-{{ dept.color }}-50 flex items-center justify-center transform transition-all duration-500 group-hover/department:bg-white/90">
                    <svg
                      class="w-6 h-6 sm:w-7 sm:h-7 text-{{ dept.color }}-600 transition-all duration-500 group-hover/department:rotate-12 group-hover/department:scale-110"
                      fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="{{ dept.icon }}" />
                    </svg>
                  </div>
                </div>

                <!-- Text content with animations -->
                <div class="flex-1 transform transition-all duration-500 group-hover/department:translate-x-2">
                  <h3 class="font-bold text-navyBlue-800 text-lg sm:text-xl group-hover/department:text-white">{{
                    dept.title
                    }}</h3>
                  <div class="flex items-center gap-2">
                    <p class="text-sm text-gray-600 group-hover/department:text-white/90">{{ dept.subitems.length }}
                      Đơn
                      vị
                    </p>
                    <!-- Animated arrow -->
                    <svg
                      class="w-4 h-4 text-gray-400 transform transition-all duration-500 group-hover/department:text-white group-hover/department:translate-x-2"
                      fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                  </div>
                </div>

                <!-- Decorative elements -->
                <div
                  class="absolute top-0 right-0 size-32 opacity-0 group-hover/department:opacity-10 transition-all duration-700 pointer-events-none">
                  <svg class="w-full h-full transform rotate-12" fill="currentColor" viewBox="0 0 24 24">
                    <path d="{{ dept.icon }}" />
                  </svg>
                </div>
                <!-- Expandable preview on hover -->
                <div
                  class="absolute w-[110px] top-1/2 h-5 flex gap-1 text-white left-auto inset-0 transform translate-y-[200%] group-hover/department:-translate-y-1/2 transition-transform duration-500">
                  <span class="text-sm font-medium">Xem đơn vị</span>
                  <svg class="w-4 h-4 rotate-90 transform transition-all duration-500 " fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </div>
              </div>
            </div>

            <!-- Content department - Add these styles -->
            <div class="w-full mt-4 space-y-3" style="transition: all 0.3s ease-in-out;">
              <!-- Subitems Grid -->
              <div class="grid grid-cols-1 gap-2">
                {% for subItem in dept.subitems %}
                <a href="/detail.html"
                  class="group/item bg-gray-50 hover:bg-navyBlue-50 rounded-lg p-3 transition-all duration-300">
                  <div class="flex items-center gap-3">
                    <!-- Icon/Avatar -->
                    <div
                      class="shrink-0 w-10 h-10 rounded-lg bg-white border border-navyBlue-100 flex items-center justify-center overflow-hidden group-hover/item:border-navyBlue-200 transition-colors">
                      <img src="assets/images/event-default.jpg" alt="{{ subItem }}"
                        class="w-full h-full object-cover transition-transform duration-500 group-hover/item:scale-110">
                    </div>

                    <!-- Content -->
                    <div class="flex-1 flex flex-row justify-between">
                      <h4
                        class="font-medium text-gray-900 truncate group-hover/item:text-navyBlue-700 transition-colors">
                        {{ subItem }}
                      </h4>
                      <!-- Arrow indicator -->
                      <svg
                        class="w-5 h-5 text-gray-300 transform transition-transform duration-300 group-hover/item:translate-x-1 group-hover/item:text-navyBlue-500"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                      </svg>
                    </div>
                  </div>
                </a>
                {% endfor %}
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Add responsive scroll indicator for mobile -->
<div class="block sm:hidden fixed bottom-4 right-4 bg-white/90 backdrop-blur-sm rounded-full shadow-lg p-3"
  id="scrollIndicator">
  <svg class="w-6 h-6 text-navyBlue-600 animate-bounce" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
  </svg>
</div>



{% endblock %}
